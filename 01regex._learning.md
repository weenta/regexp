# 正则
---------------------------------
### 字符组 (Character Class)
- 字符组 `[]`
> 在同一位置可能出现的各种字符    
```js
    /^[0-9]$/.test(2)               // true
    /^[0-3]678]$/.test(2)           // false
    /^[0-3]678]$/.test('2678]')     // true
    /^[0-3]678]$/.test('1678]')     // true
    /^[0-3]678]$/.test('3678]')     // true

```

- 排除型字符组 `[^...]`     
> 取反
```js
/^[0-9]$/.test(2)           // false
/^[0-9]$/.test('a')         // true
/^[^0-9][0-9]$/.test('a1')  // true


/^[^012]$/          // none of 0 1 2
/^[0^12]$/          // one of 0 '^' 1 2
```


- 字符组简记
```js
    // 常用简记

    /^\d$/ === /^[0-9]$/
    /^\D$/ === /^[^\d]$/ === /^[^0-9]$/

    /^\w$/ === /^[0-9a-zA-Z_]$/
    /^\W$/ === /^[^0-9a-zA-Z_]$/

    /^.$/            // 匹配出\n之外的任何字符
    /^[\d\D]$/       // 匹配任何字符

    \b        //单词边界    怎么用??
```


### 量词
- `{n}`     出现n次        
- `{m,n}`   出现m-n次(闭区间) *不可有空格`{m, n} {m ,n}`*  
- `{m,}`    至少出现m次      
- `{0,n}`   最多出现n次 可以不出现
```js
    /^\d\d\d$/ === /^\d{3}$/    
```

- 常用量词简记
```js
    * ==== {0,}     //出现任意次

    + === {1,}      // 至少出现1次

    ? === {0,1}     // 最多出现1次

    //例
    // 匹配美式英语和英式英语
    let regex = /^travell?er$/
    regex.test('traveller')    // true
    regex.test('traveler')     // true

    // 匹配http和https
    regex = /^https?$/
    regex.test('http')      // true
    regex.test('https')     // true

    // 匹配html标签
    regex = /^<[^>]+>$/
    regex.test('<img/>')    // true
    regex.test('<p/>')      // true
    regex.test('<div>')     // true
    regex.test('</>')       // true
```

### 分组(grouping) `()`
> 将多个字符组包裹起来 作为一个整体

```js
    // 量词`{m,n}`表示匹配m-n次; 如何匹配m或n次
    // 匹配一个字符串中'a'出现3次或6次的情况
    /^a{3}(a{3})?$/

    // 匹配身份证号码 652823198909303719
    
    // 不能以0开头
    // 15位或18位
    // 18位最后一位可能会出现x

    // 匹配15位
    /^[1-9]\d{14}$/

    // 匹配18位
    /^[1-9]\d{16}[\dx]$/

    // 15位\18位都可匹配- 使用()分组作为一个整体出现?次
    /^[1-9]\d{14}(\d{2}[\dx])?$/

```

- 多选结构(alternative) `(...|...)`    
> 整个多选结构被视为单个元素 只要其中某个子表达式匹配成功, 整个多选结构就算匹配成功    
> *`|`两边不能有空格*    
```js
    // 改写身份证匹配
    /^[1-9](\d{14}|\d{17}[\dx])$/
```

- 引用
```js
    // 只有分组才存在引用
    let regex =  /^(\d{4})-(\d{1,2})-(\d{1,2})$/
    regex.test('2014-3-50')
    console.log(RegExp.$1)
    console.log(RegExp.$2)
    console.log(RegExp.$3)
```